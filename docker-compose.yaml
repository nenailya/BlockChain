version: '3'
services:
  node1:
    image: blockchain
    container_name: firstnode
    build:
      context: .
      dockerfile: Dockerfile
    network_mode: host
    volumes:
      - .:/app
      - ~/.m2:/root/.m2
    command: "node1 8000"
  node2:
    image: blockchain
    container_name: secondnode
    network_mode: host
    command: "node2 8001"
    volumes:
      - .:/app
      - ~/.m2:/root/.m2
  node3:
    image: blockchain
    container_name: thirdnode
    network_mode: host
    command: "node3 8002"
    volumes:
      - .:/app
      - ~/.m2:/root/.m2